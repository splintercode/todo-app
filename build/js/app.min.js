"use strict";!function(){var t=angular.module("app",["ngRoute","firebase"]);t.constant("FIREBASE_URL","https://todo-app-core.firebaseio.com"),t.config(["$routeProvider",function(t){t.when("/",{templateUrl:"app/views/home.html"}),t.when("/about",{templateUrl:"app/views/about.html"}),t.when("/settings",{templateUrl:"app/views/settings.html"}),t.otherwise({redirectTo:"/"})}]),t.run(["$rootScope","$location","authService",function(t,e,o){t.$on("$routeChangeStart",function(){o.isLoggedIn()?console.log("Route Authenticated"):(e.path("/"),console.log("Route Unauthenticated"))})}])}(),function(){function t(t,e){function o(t){return a.$authWithOAuthPopup(t).then(function(t){var e=u.child("/users/"+t.uid);return e.child("authData").set(t),t})["catch"](function(){})}function n(){u.unauth()}function i(){return!!u.getAuth()}var u=new Firebase(e),a=t(u),r={login:o,logout:n,isLoggedIn:i};return r}angular.module("app").factory("authService",t),t.$inject=["$firebaseAuth","FIREBASE_URL"]}(),function(){function t(t,e,o){function n(e){o.login(e).then(function(e){u(e),t.path("/todos")})["catch"](function(t){console.log("Authentication failed:",t)})}function i(){o.logout(),a.provider="Not logged in",a.isAuthenticated=!1,t.path("/")}function u(t){null!==t&&null!==t.uid&&(a.provider="Logged in with "+t.provider,a.isAuthenticated=!0)}var a=this,r=new Firebase(e),c=r.getAuth();a.isAuthenticated=!1,a.provider="Not logged in",a.login=n,a.logout=i,u(c)}angular.module("app").controller("BaseCtrl",t),t.$inject=["$location","FIREBASE_URL","authService"]}(),function(){function t(t,e){function o(t){t&&(n.todos.$add({value:n.input}),n.input="")}var n=this,i=new Firebase(e),u=i.getAuth(),a=new Firebase(e+"/users/"+u.uid+"/todos");n.input="",n.submit=o,n.todos=t(a)}angular.module("app").controller("TodoCtrl",t),t.$inject=["$firebaseArray","FIREBASE_URL","authService"]}(),function(){function t(){var t={replace:"true",restrict:"E",scope:{items:"="},template:['<ul class="todo-list">','<li ng-repeat="todo in items" class="todo-list__item">',"{{todo.value}}",'<button type="button" ng-click="items.$remove($index)" class="todo-list__btn">X</button>',"</li>","</ul>"].join("")};return t}angular.module("app").directive("todoItems",t)}();