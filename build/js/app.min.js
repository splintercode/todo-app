"use strict";!function(){var t=angular.module("app",["ngRoute","ngTouch","firebase"]);t.constant("FIREBASE_URL","https://todo-app-core.firebaseio.com"),t.config(["$routeProvider",function(t){t.when("/",{templateUrl:"app/core/templates/home.html"}),t.when("/about",{templateUrl:"app/core/templates/about.html"}),t.when("/settings",{templateUrl:"app/core/templates/settings.html"}),t.otherwise({redirectTo:"/"})}]),t.run(["$rootScope","$location","authService",function(t,o,e){t.$on("$routeChangeStart",function(){e.isLoggedIn()?console.log("Route Authenticated"):(o.path("/"),console.log("Route Unauthenticated"))})}])}(),function(){function t(t,o){function e(t){return u.$authWithOAuthPopup(t).then(function(t){var o=r.child("/users/"+t.uid);return o.child("authData").set(t),t})["catch"](function(){})}function n(){r.unauth()}function i(){return!!r.getAuth()}var r=new Firebase(o),u=t(r),a={login:e,logout:n,isLoggedIn:i};return a}angular.module("app").factory("authService",t),t.$inject=["$firebaseAuth","FIREBASE_URL"]}(),function(){function t(t,o,e,n){function i(o){n.login(o).then(function(o){u(o),t.path("/todos")})["catch"](function(t){console.log("Authentication failed:",t)})}function r(){n.logout(),c.provider="Not logged in",c.isAuthenticated=!1,t.path("/")}function u(t){null!==t&&null!==t.uid&&(c.provider="Logged in with "+t.provider,c.isAuthenticated=!0)}function a(){c.showNav=!c.showNav}var c=this,l=new Firebase(e),s=l.getAuth();c.isAuthenticated=!1,c.provider="Not logged in",c.login=i,c.logout=r,c.toggleNav=a,u(s),o.$on("$locationChangeStart",function(){c.showNav=!1})}angular.module("app").controller("BaseCtrl",t),t.$inject=["$location","$rootScope","FIREBASE_URL","authService"]}(),function(){function t(t){function o(t){t&&(e.todos.$add({value:e.input}),e.input="")}var e=this;e.todos=t.getTodosRef(),e.addTodo=o,e.input=""}angular.module("app").controller("TodoCtrl",t),t.$inject=["todoService"]}(),function(){function t(t,o){function e(){return t(r)}var n=new Firebase(o),i=n.getAuth(),r=new Firebase(o+"/users/"+i.uid+"/todos"),u={getTodosRef:e};return u}angular.module("app").factory("todoService",t),t.$inject=["$firebaseArray","FIREBASE_URL"]}(),function(){function t(){function t(){function t(t){e.items.$remove(t)}function o(t){e.items.$save(t).then(function(){})}var e=this;e.removeTodo=t,e.saveTodo=o}var o={replace:"true",restrict:"E",scope:{items:"="},templateUrl:"app/todo/todo-list.directive.html",controller:t,controllerAs:"vm",bindToController:!0};return o}angular.module("app").directive("todoItems",t)}();