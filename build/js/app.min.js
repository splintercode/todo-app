"use strict";!function(){var t=angular.module("app",["ngRoute","firebase","app.controllers"]);t.config(["$routeProvider",function(t){t.when("/",{templateUrl:"app/views/home.html"}),t.when("/about",{templateUrl:"app/views/about.html"}),t.when("/account",{templateUrl:"app/views/account.html"}),t.otherwise({redirectTo:"/"})}]),t.run(["$rootScope","$location","authService",function(t,o,e){t.$on("$routeChangeStart",function(t,n,i){console.log(i),e.isLoggedIn()||"/account"!==o.path()?console.log("Route Authenticated"):(o.path("/"),console.log("Route Unauthenticated"))})}])}(),function(){function t(t){function o(t){return u.$authWithOAuthPopup(t).then(function(t){var o=i.child("/users/"+t.uid);return o.set(t),t})["catch"](function(t){console.log("Authentication failed:",t)})}function e(){i.unauth()}function n(){return!!i.getAuth()}var i=new Firebase("https://todo-app-core.firebaseio.com"),u=t(i),a={login:o,logout:e,isLoggedIn:n};return a}angular.module("app").factory("authService",t),t.$inject=["$firebaseAuth"]}(),function(){var t=angular.module("app.controllers",[]);t.controller("BaseCtrl",["$location","$firebaseAuth","authService",function(t,o,e){function n(o){e.login(o).then(function(o){u(o),t.path("/account")})["catch"](function(t){console.log("Authentication failed:",t)})}function i(){e.logout(),r.provider="Not logged in.",r.isAuthenticated=!1,t.path("/")}function u(t){null!==t&&null!==t.uid&&(r.provider="Logged in with "+t.provider,r.isAuthenticated=!0,console.log("Authenticated successfully with payload:",t),console.log("User "+t.uid+" is logged in with "+t.provider))}var a=new Firebase("https://todo-app-core.firebaseio.com"),c=(o(a),a.getAuth()),r=this;r.isAuthenticated=!1,r.provider="Not logged in.",r.login=n,r.logout=i,u(c)}])}();