"use strict";!function(){var t=angular.module("app",["ngRoute","firebase"]);t.constant("FIREBASE_URL","https://todo-app-core.firebaseio.com"),t.config(["$routeProvider",function(t){t.when("/",{templateUrl:"app/views/home.html"}),t.when("/about",{templateUrl:"app/views/about.html"}),t.when("/settings",{templateUrl:"app/views/settings.html"}),t.when("/todos",{templateUrl:"app/views/todos.html"}),t.otherwise({redirectTo:"/"})}]),t.run(["$rootScope","$location","authService",function(t,o,e){t.$on("$routeChangeStart",function(){e.isLoggedIn()?console.log("Route Authenticated"):(o.path("/"),console.log("Route Unauthenticated"))})}])}(),function(){function t(t,o){function e(t){return a.$authWithOAuthPopup(t).then(function(t){var o=u.child("/users/"+t.uid);return o.set(t),console.log("Authenticated successfully with payload:",t),console.log("User "+t.uid+" is logged in with "+t.provider),t})["catch"](function(t){console.log("Authentication failed:",t)})}function n(){u.unauth()}function i(){return!!u.getAuth()}var u=new Firebase(o),a=t(u),l={login:e,logout:n,isLoggedIn:i};return l}angular.module("app").factory("authService",t),t.$inject=["$firebaseAuth","FIREBASE_URL"]}(),function(){function t(t,o,e){function n(o){e.login(o).then(function(o){u(o),t.path("/todos")})["catch"](function(t){console.log("Authentication failed:",t)})}function i(){e.logout(),a.provider="Not logged in",a.isAuthenticated=!1,t.path("/")}function u(t){null!==t&&null!==t.uid&&(a.provider="Logged in with "+t.provider,a.isAuthenticated=!0)}var a=this,l=new Firebase(o),r=l.getAuth();a.isAuthenticated=!1,a.provider="Not logged in",a.login=n,a.logout=i,u(r)}angular.module("app").controller("BaseCtrl",t),t.$inject=["$location","FIREBASE_URL","authService"]}(),function(){function t(){function t(t){t&&(o.todos.push({value:o.input}),o.input="")}var o=this;o.input="",o.submit=t,o.todos=[{value:"todo 1"},{value:"todo 2"},{value:"todo 3"},{value:"todo 4"}]}angular.module("app").controller("TodoCtrl",t),t.$inject=["FIREBASE_URL","authService"]}(),function(){function t(){function t(){}var o={link:t,replace:"true",template:"<li>{{todo.value}}</li>",restrict:"E",scope:{todo:"="}};return o}angular.module("app").directive("todoItem",t)}();